<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Easy Invoice</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #f4f6f9;
      color: #333;
    }
    h1 {
      text-align: center;
    }
    .lang-buttons {
      text-align: center;
      margin-bottom: 2rem;
    }
    button {
      margin: 0.5rem 0.5rem;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 6px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .content {
      text-align: center;
      font-size: 1.1rem;
      margin-bottom: 2rem;
    }

    .invoice-form {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      max-width: 900px;
      margin: auto;
    }
    .invoice-form h2 {
      margin-top: 1rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 1rem;
    }
    .form-group label {
      margin-bottom: 0.3rem;
    }
    .form-group input {
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
      text-align: center;
    }

    .total {
      text-align: right;
      font-size: 1.2rem;
      margin-top: 1rem;
    }

    .pdf-button {
      margin-top: 1.5rem;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Easy Invoice</h1>

  <div class="lang-buttons">
    <button onclick="setLanguage('zh')">‰∏≠Êñá</button>
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('ja')">Êó•Êú¨Ë™û</button>
    <button onclick="setLanguage('ko')">ÌïúÍµ≠Ïñ¥</button>
  </div>

  <div class="content" id="content"></div>

  <div class="invoice-form" id="invoiceArea">
    <h2 id="formTitle">Invoice Editor</h2>

    <div class="form-group">
      <label id="labelTitle">Invoice Title</label>
      <input id="invoiceTitle" type="text" placeholder="Enter invoice title" />
    </div>

    <div class="form-group">
      <label id="labelDate">Date</label>
      <input id="invoiceDate" type="date" />
    </div>

    <div class="form-group">
      <label id="labelNumber">Invoice Number</label>
      <input id="invoiceNumber" type="text" placeholder="e.g. INV-2025-001" />
    </div>

    <h2 id="clientInfo">Client Info</h2>

    <div class="form-group">
      <label id="labelClient">Company Name</label>
      <input id="clientName" type="text" />
    </div>

    <div class="form-group">
      <label id="labelAddress">Address</label>
      <input id="clientAddress" type="text" />
    </div>

    <div class="form-group">
      <label id="labelEmail">Email</label>
      <input id="clientEmail" type="email" />
    </div>

    <h2 id="itemsTitle">Items</h2>

    <table id="itemTable">
      <thead>
        <tr>
          <th id="descHead">Description</th>
          <th id="priceHead">Price</th>
          <th id="qtyHead">Quantity</th>
          <th id="totalHead">Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="text" placeholder="Item description"/></td>
          <td><input type="number" value="0" onchange="calculateTotal()" /></td>
          <td><input type="number" value="1" onchange="calculateTotal()" /></td>
          <td class="line-total">$0.00</td>
        </tr>
      </tbody>
    </table>

    <button onclick="addItemRow()">‚ûï Ê∑ªÂä†È°πÁõÆ</button>

    <div class="total" id="grandTotal">Grand Total: $0.00</div>

    <div class="pdf-button">
      <button onclick="downloadPDF()">üìÑ ÂØºÂá∫ PDF</button>
    </div>
  </div>

  <script>
    const translations = {
      zh: {
        welcome: "Ê¨¢Ëøé‰ΩøÁî® Easy Invoice ‚Äî ÁÆÄÂçïÈ´òÊïàÁöÑÂú®Á∫øÂºÄÁ•®Â∑•ÂÖ∑„ÄÇ",
        formTitle: "ÂèëÁ•®ÁºñËæëÂô®",
        labelTitle: "ÂèëÁ•®Ê†áÈ¢ò",
        labelDate: "Êó•Êúü",
        labelNumber: "ÂèëÁ•®ÁºñÂè∑",
        clientInfo: "ÂÆ¢Êà∑‰ø°ÊÅØ",
        labelClient: "ÂÖ¨Âè∏ÂêçÁß∞",
        labelAddress: "Âú∞ÂùÄ",
        labelEmail: "ÈÇÆÁÆ±",
        itemsTitle: "È°πÁõÆÂàóË°®",
        descHead: "È°πÁõÆÊèèËø∞",
        priceHead: "Âçï‰ª∑",
        qtyHead: "Êï∞Èáè",
        totalHead: "ÈáëÈ¢ù",
        grandTotal: "ÊÄªËÆ°"
      },
      en: {
        welcome: "Welcome to Easy Invoice ‚Äî the simple and powerful online invoicing tool.",
        formTitle: "Invoice Editor",
        labelTitle: "Invoice Title",
        labelDate: "Date",
        labelNumber: "Invoice Number",
        clientInfo: "Client Info",
        labelClient: "Company Name",
        labelAddress: "Address",
        labelEmail: "Email",
        itemsTitle: "Items",
        descHead: "Description",
        priceHead: "Price",
        qtyHead: "Quantity",
        totalHead: "Total",
        grandTotal: "Grand Total"
      },
      ja: {
        welcome: "Easy Invoice „Å∏„Çà„ÅÜ„Åì„Åù ‚Äî „Ç∑„É≥„Éó„É´„ÅßÂº∑Âäõ„Å™„Ç™„É≥„É©„Ç§„É≥Ë´ãÊ±ÇÊõ∏‰ΩúÊàê„ÉÑ„Éº„É´„Åß„Åô„ÄÇ",
        formTitle: "Ë´ãÊ±ÇÊõ∏„Ç®„Éá„Ç£„Çø",
        labelTitle: "Ë´ãÊ±ÇÊõ∏„ÅÆ„Çø„Ç§„Éà„É´",
        labelDate: "Êó•‰ªò",
        labelNumber: "Ë´ãÊ±ÇÊõ∏Áï™Âè∑",
        clientInfo: "„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÊÉÖÂ†±",
        labelClient: "‰ºöÁ§æÂêç",
        labelAddress: "‰ΩèÊâÄ",
        labelEmail: "„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ",
        itemsTitle: "È†ÖÁõÆ‰∏ÄË¶ß",
        descHead: "Ë™¨Êòé",
        priceHead: "Âçò‰æ°",
        qtyHead: "Êï∞Èáè",
        totalHead: "ÂêàË®à",
        grandTotal: "Á∑èÂêàË®à"
      },
      ko: {
        welcome: "Easy InvoiceÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§ ‚Äî ÏâΩÍ≥† Í∞ïÎ†•Ìïú Ïò®ÎùºÏù∏ Ïù∏Î≥¥Ïù¥Ïä§ ÎèÑÍµ¨ÏûÖÎãàÎã§.",
        formTitle: "Ïù∏Î≥¥Ïù¥Ïä§ Ìé∏ÏßëÍ∏∞",
        labelTitle: "Ïù∏Î≥¥Ïù¥Ïä§ Ï†úÎ™©",
        labelDate: "ÎÇ†Ïßú",
        labelNumber: "Ïù∏Î≥¥Ïù¥Ïä§ Î≤àÌò∏",
        clientInfo: "Í≥†Í∞ù Ï†ïÎ≥¥",
        labelClient: "ÌöåÏÇ¨Î™Ö",
        labelAddress: "Ï£ºÏÜå",
        labelEmail: "Ïù¥Î©îÏùº",
        itemsTitle: "Ìï≠Î™© Î™©Î°ù",
        descHead: "ÏÑ§Î™Ö",
        priceHead: "Îã®Í∞Ä",
        qtyHead: "ÏàòÎüâ",
        totalHead: "Ìï©Í≥Ñ",
        grandTotal: "Ï¥ùÌï©Í≥Ñ"
      }
    };

    function setLanguage(lang) {
      const t = translations[lang];
      document.getElementById("content").innerText = t.welcome;
      document.getElementById("formTitle").innerText = t.formTitle;
      document.getElementById("labelTitle").innerText = t.labelTitle;
      document.getElementById("labelDate").innerText = t.labelDate;
      document.getElementById("labelNumber").innerText = t.labelNumber;
      document.getElementById("clientInfo").innerText = t.clientInfo;
      document.getElementById("labelClient").innerText = t.labelClient;
      document.getElementById("labelAddress").innerText = t.labelAddress;
      document.getElementById("labelEmail").innerText = t.labelEmail;
      document.getElementById("itemsTitle").innerText = t.itemsTitle;
      document.getElementById("descHead").innerText = t.descHead;
      document.getElementById("priceHead").innerText = t.priceHead;
      document.getElementById("qtyHead").innerText = t.qtyHead;
      document.getElementById("totalHead").innerText = t.totalHead;
      calculateTotal();
    }

    function calculateTotal() {
      const rows = document.querySelectorAll("#itemTable tbody tr");
      let grand = 0;
      rows.forEach(row => {
        const price = parseFloat(row.cells[1].children[0].value) || 0;
        const qty = parseFloat(row.cells[2].children[0].value) || 0;
        const total = price * qty;
        row.cells[3].innerText = `$${total.toFixed(2)}`;
        grand += total;
      });
      const lang = localStorage.getItem("lang") || "en";
      const t = translations[lang];
      document.getElementById("grandTotal").innerText = `${t.grandTotal}: $${grand.toFixed(2)}`;
    }

    function addItemRow() {
      const tbody = document.querySelector("#itemTable tbody");
      const row = document.createElement("tr");
      row.innerHTML = `
        <td><input type="text" placeholder="Item description"/></td>
        <td><input type="number" value="0" onchange="calculateTotal()" /></td>
        <td><input type="number" value="1" onchange="calculateTotal()" /></td>
        <td class="line-total">$0.00</td>
      `;
      tbody.appendChild(row);
    }

    async function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const title = document.getElementById("invoiceTitle").value || "Easy Invoice";
      doc.text(title, 20, 20);
      doc.html(document.getElementById("invoiceArea"), {
        callback: function (doc) {
          doc.save("invoice.pdf");
        },
        x: 10,
        y: 30,
        html2canvas: { scale: 0.5 }
      });
    }

    // ÂàùÂßãÂåñËØ≠Ë®Ä
    const savedLang = localStorage.getItem("lang") || "en";
    setLanguage(savedLang);
    localStorage.setItem("lang", savedLang);
  </script>
</body>
</html>
